#include "Asteroid.h"

Asteroid::Asteroid()
{
    velocity = 0;
}

Asteroid::Asteroid(unsigned model, int posX, int posY, int velocity, double FPS)
{
    this->velocity = velocity;

    switch(model)
    {
    case 0:
        {
            Sprite sprite("bitmaps/asteroid-1-96.png");
            sprite.setPos(posX,posY);
            sprite.generateMask();

            aAsteroid.setSprite(sprite);
            aAsteroid.setCiclical(true);
            aAsteroid.setFPS(FPS);

            aAsteroid.addFrame("mov",Rect(0,0,sprite.getImageWidth()/21,sprite.getImageHeight()/7),143);
            aAsteroid.changeKey("mov");
            aAsteroid.playAnimation();

            break;
        }
    case 1:
        {
            Sprite sprite("bitmaps/asteroid-2-96.png");
            sprite.setPos(posX,posY);
            //sprite.generateMask();

            aAsteroid.setSprite(sprite);
            aAsteroid.setCiclical(true);
            aAsteroid.setFPS(FPS);

            aAsteroid.addFrame("mov",Rect(0,0,sprite.getImageWidth()/21,sprite.getImageHeight()/7),143);
            aAsteroid.changeKey("mov");
            aAsteroid.playAnimation();

            break;
        }
    case 2:
        {

        }
    default:
        {
            Sprite sprite("bitmaps/asteroid-3-96.png");
            sprite.setPos(posX,posY);
            //sprite.generateMask();

            aAsteroid.setSprite(sprite);
            aAsteroid.setCiclical(true);
            aAsteroid.setFPS(FPS);

            aAsteroid.addFrame("mov",Rect(0,0,sprite.getImageWidth()/21,sprite.getImageHeight()/7),143);
            aAsteroid.changeKey("mov");
            aAsteroid.playAnimation();

        }
        break;
    }
}

Asteroid::~Asteroid()
{

}

bool Asteroid::init()
{

}

void Asteroid::update(double seconds)
{
    aAsteroid.getSprite().move(0, abs(velocity * seconds));
    aAsteroid.update(seconds);
}

void Asteroid::draw()
{
    aAsteroid.draw();
}

void Asteroid::setVelocity(int velocity)
{
    this->velocity = velocity;
}

int Asteroid::getVelocity()
{
    return velocity;
}

int Asteroid::getPosX()
{
    return aAsteroid.getSprite().getPosX();
}

int Asteroid::getPosY()
{
    return aAsteroid.getSprite().getPosY();
}

int Asteroid::getCenterPosX()
{
    return aAsteroid.getSprite().getCenterPosX();
}

int Asteroid::getCenterPosY()
{
    return aAsteroid.getSprite().getCenterPosY();
}

int Asteroid::getHeight()
{
    return aAsteroid.getSprite().getSpriteHeight();
}

int Asteroid::getWidth()
{
    return aAsteroid.getSprite().getSpriteWidth();
}

void Asteroid::setPos(int x, int y)
{
    aAsteroid.getSprite().setPos(x,y);
}

void Asteroid::setFPS(double FPS)
{
    aAsteroid.setFPS(FPS);
}

void Asteroid::setDirection(bool dir)
{
    aAsteroid.setDirection(dir);
}

